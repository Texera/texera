<div class="modal-body">
  <nz-list [nzItemLayout]="'horizontal'">
    <nz-list-item *ngFor="let item of commentBox.comments" [nzNoFlex] = "true" class = "commentItem">

       <nz-list-item-meta
          nzAvatar="user_avatar"
        >
        <ng-template #user_avatar>
              <texera-user-avatar
                class="user-avatar caret-off"
                ngbDropdownToggle
                [googleId]="user?.googleId || '' "
                [userName]="user?.name || ''"
              >
              </texera-user-avatar>
            </ng-template>
        </nz-list-item-meta>
      <nz-comment [nzAuthor]="item.creatorName" [nzDatetime]="toRelative(item.creationTime)">
        <!-- TODO: add user avatar-->
        <!--        <nz-avatar nz-comment-avatar nzIcon="user" [nzSrc]="item.avatar"></nz-avatar>-->
         
        <nz-comment-content>
          <p [attr.id] = "'comment' + item.creatorName + item.creationTime">{{ item.content }}</p>
           <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
        <textarea
          hidden = "hidden"
          [attr.id] = "'txarea' + item.creatorName + item.creationTime"
          type="text"
          placeholder="edit comment"
          [(ngModel)]="editValue"
          nz-input
          [nzAutosize]="{ minRows: 1, maxRows: 6}"
        ></textarea>
      </nz-input-group>
      <ng-template #suffixIconButton>
        <button
          [attr.id] = "'editbtn' + item.creatorName + item.creationTime"
          hidden = "hidden"
          nz-button
          nzType="primary"
          [nzLoading]="submitting"
          [disabled]="!user || !editValue"
          (click)="editComment(item.creatorID, item.creatorName, item.creationTime)"
        >
      <i nz-icon nzType="send"></i>
    </button>
  </ng-template>
        </nz-comment-content>
      </nz-comment>
      <ul nz-list-item-actions>
        <nz-list-item-action
          ><a (click)="deleteComment(item.creatorID, item.creationTime)">delete</a></nz-list-item-action
        >
        <nz-list-item-action><a (click)="toggleEditInput(item.creatorName, item.creationTime)">edit</a></nz-list-item-action>
        <nz-list-item-action><a (click)="replyToComment(item.creatorName, item.content)">reply</a></nz-list-item-action>
      </ul>
       <nz-list-item-extra class = "editInputs">
     
  </nz-list-item-extra>
    </nz-list-item>
  </nz-list>
</div>

<div class="modal-footer">
  <!-- TODO: add user avatar-->
  <!--    <nz-avatar nz-comment-avatar nzIcon="user" [nzSrc]="user.avatar"></nz-avatar>-->
  <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
    <textarea
      type="text"
      placeholder="add new comment"
      [(ngModel)]="inputValue"
      nz-input
      [nzAutosize]="{ minRows: 1, maxRows: 6}"
    ></textarea>
  </nz-input-group>
  <ng-template #suffixIconButton>
    <button
      nz-button
      nzType="primary"
      [nzLoading]="submitting"
      [disabled]="!user || !inputValue"
      (click)="onClickAddComment()"
    >
      <i nz-icon nzType="send"></i>
    </button>
  </ng-template>
</div>