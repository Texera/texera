<div class="section-container subsection-grid-container">
  <nz-card class="section-title">
    <h2 class="page-title">Users</h2>
    <div class="d-inline-block">
      <a nz-dropdown [nzDropdownMenu]="menu">
        <button nz-button>
          <i nz-icon nzTheme="outline" nzType="sort-ascending"></i>
        </button>
      </a>
      <nz-dropdown-menu #menu="nzDropdownMenu">
        <ul nz-menu nzSelectable>
          <li (click)="ascSort()" nz-menu-item>A -> Z</li>
          <li (click)="dscSort()" nz-menu-item>Z -> A</li>
          <li (click)="timeSortDesc()" nz-menu-item>Newest</li>
          <li (click)="timeSortAsc()" nz-menu-item>Oldest</li>
        </ul>
      </nz-dropdown-menu>
      <button
        (click)="openFileAddComponent()"
        [disabled]="disableAddButton()"
        nz-button
        nz-tooltip="Add user"
        nzTooltipPlacement="bottom"
      >
        <i nz-icon nzTheme="outline" nzType="plus"></i>
      </button>
    </div>
  </nz-card>


  <nz-card class="section-list-container">
    <!-- itemSize: the height (px) of each list item,
      this MUST be approximately the same as list item size set in CSS,
      .file-list-item sets the item size to be 70px, with additional paddings/margins it's approximately 80px
    -->
    <cdk-virtual-scroll-viewport itemSize="80" class="virtual-scroll-container">
      <nz-list>
        <nz-list-item
          *cdkVirtualFor="let UserEntry of getUserArray();let indexOfElement=index"
          class="file-list-item"
        >
          <nz-list-item-meta class="file-item-meta">
            <nz-list-item-meta-title>
              <div class="file-item-meta-title">
                <nz-select class="role" nzBorderless>
                  <nz-option nzValue="0" nzLabel="Admin"></nz-option>
                  <nz-option nzValue="1" nzLabel="Regular"></nz-option>
                  <nz-option nzValue="2" nzLabel="Disallow"></nz-option>
                </nz-select>
                <h4 class="file-name">
                  {{ UserEntry.name }}
                </h4>
              </div>
            </nz-list-item-meta-title>
          </nz-list-item-meta>

          <ul nz-list-item-actions>
            <nz-list-item-action>
              <button
                nz-button
                nzTooltipPlacement="bottom"
              >
                <i nz-icon nzTheme="outline" nzType="download"></i>
              </button>
            </nz-list-item-action>
          </ul>
        </nz-list-item>
      </nz-list>
    </cdk-virtual-scroll-viewport>
  </nz-card>
</div>
