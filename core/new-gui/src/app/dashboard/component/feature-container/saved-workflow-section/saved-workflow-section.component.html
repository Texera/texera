<div class="saved-workflow-container subsection-grid-container">

  <mat-card class="workflow-section-title subsection-grid-container">
    <div class="d-inline-block" ngbDropdown>
      <button class="btn btn-outline-primary" id="sortDropdown" ngbDropdownToggle>Sort</button>
      <div aria-labelledby="dropdownBasic1" ngbDropdownMenu>
        <mat-list>
          <button (click)="lastSort()" class="sorting_func" mat-button>By Edit Time</button>
          <mat-divider></mat-divider>
          <button (click)="dateSort()" class="sorting_func" mat-button>By Create Time</button>
          <mat-divider></mat-divider>
          <button (click)="ascSort()" class="sorting_func" mat-button>A -> Z</button>
          <mat-divider></mat-divider>
          <button (click)="dscSort()" class="sorting_func" mat-button>Z -> A</button>
          <mat-divider></mat-divider>
        </mat-list>
      </div>
      <button (click)="onClickCreateNewWorkflowFromDashboard()" class="btn btn-outline-dark add-button" type="button">
        <i class="fa fa-plus"></i></button>
    </div>
  </mat-card>

  <mat-card class="workflow-list subsection-grid-container">
    <mat-card-content>
      <mat-list>
        <div>
          <h2 class="page-title">Workflows</h2>
          <br/>
        </div>
        <div class="scroll">
          <mat-list-item *ngFor="let workflow of dashboardWorkflowEntries" class="project-list-item">

            <h3 class="workflow-name" id="workflow-name" mat-line><label
              (click)="jumpToWorkflow(workflow.workflow)">{{workflow.workflow.name}}</label></h3>
            <p class="workflow-time" mat-line><br>
              Last Access: {{workflow.workflow.lastModifiedTime | date:'yyyy-MM-dd HH:mm'}}
              <span class="time-space"></span>
              Created: {{workflow.workflow.creationTime | date:'yyyy-MM-dd HH:mm'}}
            </p>
            <i *ngIf="workflow.isOwner" ngbTooltip="You are the OWNER" nz-icon nzType="user" nzTheme="outline"></i>
            <i *ngIf="!workflow.isOwner" ngbTooltip="{{workflow.accessLevel}} access shared by {{workflow.ownerName}}"
               nz-icon nzType="team" nzTheme="outline"></i>
            <button (click)="onClickOpenShareAccess(workflow.workflow)" type="button" mat-button
                    ngbTooltip="Share the workflow {{workflow.workflow.name}} to others" placement="bottom"
                    *ngIf="workflow.isOwner">
              <i class="fa fa-share"></i>
            </button>
            <button (click)="onClickDuplicateWorkflow(workflow.workflow)" type="button" class="duplicate-workflow-btn"
                    mat-button
                    ngbTooltip="Duplicate the workflow {{workflow.workflow.name}}" placement="bottom"><i
              class="fa fa-copy"></i>
            </button>
            <button (click)="openNgbdModalDeleteWorkflowComponent(workflow.workflow)" class="delete-workflow-btn"
                    mat-button
                    ngbTooltip="Delete the workflow {{workflow.workflow.name}}" placement="bottom"
                    *ngIf="workflow.isOwner"><i class="fa fa-trash"></i>
            </button>
          </mat-list-item>

        </div>
      </mat-list>

    </mat-card-content>
  </mat-card>
</div>
