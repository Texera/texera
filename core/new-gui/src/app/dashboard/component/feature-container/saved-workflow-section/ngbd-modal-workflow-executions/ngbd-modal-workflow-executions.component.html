<div class="saved-execution-container subsection-grid-container">
    <nz-card class="workflow-section-title subsection-grid-container">
      <button (click)="activeModal.dismiss('Cross click')" aria-label="Close" class="close" type="button">
        <span aria-hidden="true"> Ã— </span>
      </button>
      <h4 class="modal-title">Execution results of this workflow</h4>
        <a nz-dropdown [nzDropdownMenu]="menu">
          <button nz-button>
            <i nz-icon nzTheme="outline" nzType="sort-ascending"></i>
          </button>
        </a>
        <nz-dropdown-menu #menu="nzDropdownMenu">
          <ul nz-menu nzSelectable>
            <!-- <li (click)="executionIDSort()" nz-menu-item>By Execution#</li> -->
            <li (click)="startTimeSort()" nz-menu-item>By Start Time</li>
            <li (click)="updateTimeSort()" nz-menu-item>By Update Time</li>
            <li (click)="ascSort('name')" nz-menu-item>By Name: A -> Z</li>
            <li (click)="dscSort('name')" nz-menu-item>By Name: Z -> A</li>
            <li (click)="ascSort('username')" nz-menu-item>By Username: A -> Z</li>
            <li (click)="dscSort('username')" nz-menu-item>By Username: Z -> A</li>
          </ul>
        </nz-dropdown-menu>
    </nz-card>
<div class="modal-body table-responsive">
  <nz-table *ngIf="workflowExecutionsList" [nzData]="workflowExecutionsList">
    <thead>
      <tr>
        <th
          *ngFor="let column of executionsTableHeaders"
          nz-tooltip
          [nzTooltipTitle]="executionTooltip[column]"
          nzTooltipPlacement="top"
        >
          {{column}}
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of workflowExecutionsList; let i=index;">
        <td nzEllipsis>
          <input type="checkbox" />
        </td>
        <td nzEllipsis>
          <i
            nz-icon
            nzType="star"
            class="bookmark-icon"
            [nzTheme]="(row.bookmarked || currentlyHoveredExecution === row) ? 'fill' : 'outline'"
            (mouseenter)="currentlyHoveredExecution = row"
            (mouseleave)="currentlyHoveredExecution = undefined"
            (click)="onBookmarkToggle(row)"
          ></i>
        </td>
        <td nzEllipsis>{{(i + 1)}}</td>
        <td nzEllipsis>{{row.userName || "anonymous" }}</td>
        <td nzEllipsis>
          <label *ngIf="workflowExecutionsIsEditingName.indexOf(i) === -1; else customeWorkflow " class="workflow-name"
            >{{ row.name }}</label
          >
          <ng-template #customeWorkflow>
            <input
              #customName
              (focusout)="confirmUpdateWorkflowExecutionsCustomName(row, customName.value, i)"
              (keyup.enter)="confirmUpdateWorkflowExecutionsCustomName(row, customName.value, i)"
              placeholder="{{ row.name }}"
              value="{{ row.name }}"
            />
          </ng-template>
          <button
            (click)="workflowExecutionsIsEditingName.push(i)"
            nz-button
            nzSize="small"
            nzType="text"
            class="rename-icon"
          >
            <i
              nz-icon
              nzTheme="outline"
              nz-tooltip
              nzTooltipTitle='Rename Execution "{{row.name}}"'
              nzTooltipPlacement="top"
              nzType="edit"
            ></i>
          </button>
        </td>
        <td nzEllipsis>{{row.startingTime | date:'MM/dd/yyyy HH:mm:ss zzz'}}</td>
        <td nzEllipsis>{{row.completionTime | date:'MM/dd/yyyy HH:mm:ss zzz'}}</td>
        <td nzEllipsis>
          <i
            nz-icon
            nzTheme="outline"
            nz-tooltip
            [nzTooltipTitle]="getExecutionStatus(row.status)[0]"
            nzTooltipPlacement="top"
            [nzType]="getExecutionStatus(row.status)[1]"
            [ngStyle]="{'color': getExecutionStatus(row.status)[2]}"
            class="status-icon"
          ></i>
        </td>
        <td nzEllipsis>
          <i
            nz-icon
            nzType="delete"
            nz-tooltip
            nzTooltipTitle='Delete the Execution "{{row.name}}"'
            nzTooltipPlacement="top"
            class="trash-icon"
            (click)="onDelete(row)"
          ></i>
        </td>
      </tr>
    </tbody>
  </nz-table>
</div>